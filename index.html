<script>
    var key = ""
    function save(ctx){
        modified = {}
        key = (parseInt(key)+1).toString()
        modified[key] = {}
        modified[key]["date"] = document.getElementById("date").value
        modified[key]["time"] = document.getElementById("time").value
        modified[key]["name"] = document.getElementById("input_name").value
        modified[key]["url"] = document.getElementById("url").value
        console.log(modified)
	    fetch("./post.php",{method:"POST", body:JSON.stringify(modified)})
        modified = {}
    }
</script>

<script type="module" src="script.js">
</script>
<meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, width=device-width" />
<style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@500&display=swap');
    body{
        font-family: 'Poppins', sans-serif;
        display:flex;
        justify-content: center;
        align-items:center;
        color:white;
        background: rgb(20,0,100);
        background: -moz-linear-gradient(90deg, rgba(20,0,100,1) 0%, rgba(20,20,20,1) 100%);
        background: -webkit-linear-gradient(90deg, rgba(20,0,100,1) 0%, rgba(20,20,20,1) 100%);
        background: linear-gradient(90deg, rgba(20,0,100,1) 0%, rgba(20,20,20,1) 100%);
        filter: progid:DXImageTransform.Microsoft.gradient(startColorstr="#140064",endColorstr="#141414",GradientType=1);
        text-align: center;
    }
    table{
        
        border-collapse: collapse;
    }
    table td {
        border: 2px solid white;
        padding:5px;
    }
    #form{
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        grid-gap: 10px;
    }
</style>


<body>
    <div id="quer" style="display: none;">
        <img id="thumbnail" src="">
        <p id="name"></p>
        <p id="countdown"></p>
    </div>
    <div id="notquer" style="display: none;">
        <table id="table">
            <thead>
                <tr>
                    <td>Name</td>
                    <td>Release Date (UTC)</td>
                    <td>Countdown</td>
                </tr>
            </tbody>
            <tbody></tbody>
        </table>
        <div id="form" style="border: 2px solid white;text-align: left;padding:15px;">
            <label>Name: </label><input required id="input_name">
            <label>Release Date (UTC): </label><div style="display: flex;width:100%" ><input required type="date" id="date"><input required type="time" id="time"></div>
            <label title="J'utilise celle de Instant Gaming">Image Url: </label><input required id="url">
            <input style="grid-column: 1 / 3" type="submit" onclick="save(this)">
        </div>
        
    </div>
</body>